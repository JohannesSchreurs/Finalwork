<!DOCTYPE html>
<html>
  <head>
    <title>Final Work</title>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script> 
    <script src="./js/main.js" type="module"></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div class="o-overlay js-overlay">
      <p class="o-overlay__text js-loading-text">Loading models</p>
    </div>
    <!-- fog="type: linear; color: #AAA; near: 1; far: 55" -->
    <a-scene id="mainScene" stats fog="type: linear; color: #666; near: 10; far: 500">
        <a-assets>
            <a-asset-item id="factory" src="./models/factory-v2.obj"></a-asset-item>
            <a-asset-item id="cog" src="./models/cog.obj"></a-asset-item>
            <a-asset-item id="room" src="./models/room-v2.obj"></a-asset-item>
            <a-asset-item id="city" src="./models/city.obj"></a-asset-item>
            <a-asset-item id="skyline" src="./models/skyline.obj"></a-asset-item>
            <a-asset-item id="billboards" src="./models/billboards.obj"></a-asset-item>
            <a-asset-item id="desert" src="./models/desert-v4.obj"></a-asset-item>
            <a-asset-item id="forest" src="./models/forest.obj"></a-asset-item>
            <a-asset-item id="car" src="./models/car.obj"></a-asset-item>
            <a-asset-item id="sewer" src="./models/sewer-v5.obj"></a-asset-item>
            <a-asset-item id="poles" src="./models/environment-car.obj"></a-asset-item>
            <a-asset-item id="cloud1" src="./models/cloud-1.obj"></a-asset-item>
            <a-asset-item id="cloud2" src="./models/cloud-2.obj"></a-asset-item>
            <a-asset-item id="cloud3" src="./models/cloud-3.obj"></a-asset-item>
            <a-asset-item id="mother" src="./models/mother.obj"></a-asset-item>
            <a-asset-item id="font" src="./fonts/VCR OSD Mono_Regular.json"></a-asset-item>
        </a-assets>

        <a-entity id="scene-wrapper" scene-manager="amount: 85; time: 0, 10000, 15000, 12000, 13000, 13000, 33000, 15000, 10000, 10000">
            <a-entity visible="false" template="src: scenes/intermezzo1.html"></a-entity>
            <a-entity visible="false" template="src: scenes/car.html"></a-entity>
            <a-entity visible="false" template="src: scenes/sewer.html"></a-entity>
            <a-entity visible="false" template="src: scenes/room.html"></a-entity>
            <a-entity visible="false" template="src: scenes/factory.html"></a-entity>
            <a-entity visible="false" template="src: scenes/billboards.html"></a-entity>
            <a-entity visible="false" template="src: scenes/city.html"></a-entity>
            <a-entity visible="false" template="src: scenes/skyline.html"></a-entity>
            <a-entity visible="false" template="src: scenes/forest.html"></a-entity>
            <a-entity visible="false" template="src: scenes/desert.html"></a-entity>
            <!-- End -->
            <a-entity visible="false" template="src: scenes/finished.html"></a-entity>
        </a-entity>

        <a-sky color="#111"></a-sky>

        <a-sphere 
          id="overlay" 
          radius="2" 
          opacity="0" 
          color="#000" 
          side="back"
        </a-sphere>

        <a-camera>
            <a-entity 
              raycaster="objects: .clickable"
              cursor="fuse: true; fuseTimeout: 150"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008"
              material="color: white; shader: flat"
            >
              <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" fill="backwards" from="1 1 1" to="1.5 1.5 1.5" dur="150"></a-animation>
            </a-entity>
          </a-camera>

        <a-sound id="soundtrack" src="./sounds/track-fw.mp3" autoplay="true" volume="2"></a-sound>
    </a-scene>
  </body>
</html>
